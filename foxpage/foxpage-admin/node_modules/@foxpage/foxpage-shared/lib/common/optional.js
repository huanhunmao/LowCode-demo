var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.optional = void 0;
const isError_1 = __importDefault(require("lodash/isError"));
exports.optional = {
    ok(result) {
        const ok = {
            data: result,
            error: null,
            code: null,
            fail: false,
            ok: true,
            unwrap: () => result,
        };
        return ok;
    },
    fail(reason) {
        const err = isError_1.default(reason) ? reason : new Error(String(reason));
        const fail = {
            data: null,
            error: err,
            code: err.code || 500,
            fail: true,
            ok: false,
            unwrap: () => {
                throw err;
            },
        };
        return fail;
    },
};
