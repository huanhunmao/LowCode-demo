Object.defineProperty(exports, "__esModule", { value: true });
exports.staticVariableParseEntity = void 0;
const types_1 = require("../types");
function tryJSONParse(value) {
    try {
        return JSON.parse(value);
    }
    catch (error) {
        return value;
    }
}
/**
 * static variable
 */
exports.staticVariableParseEntity = {
    type: types_1.VariableType.DATA_STATIC,
    parse(variable) {
        const { props: { value, type }, } = variable;
        if (type === 'json') {
            const content = typeof value === 'string' ? tryJSONParse(value) : value;
            return content;
        }
        else {
            return value;
        }
    },
};
